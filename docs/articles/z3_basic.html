<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3 - Basic operations • Rvision</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="3 - Basic operations">
<meta property="og:description" content="Rvision">
<meta property="og:image" content="https://swarm-lab.github.io/ROpenCVLite/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rvision</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/z1_install.html">1 - Installing Rvision</a>
    </li>
    <li>
      <a href="../articles/z2_io.html">2 - Input/output operations</a>
    </li>
    <li>
      <a href="../articles/z3_basic.html">3 - Basic operations</a>
    </li>
    <li>
      <a href="../articles/z4_inplace.html">4 - In-place, copy, and target operations</a>
    </li>
    <li>
      <a href="../articles/z5_gpu.html">5 - GPU operations</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/swarm-lab/Rvision/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="z3_basic_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>3 - Basic operations</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/swarm-lab/Rvision/blob/master/vignettes/z3_basic.Rmd"><code>vignettes/z3_basic.Rmd</code></a></small>
      <div class="hidden name"><code>z3_basic.Rmd</code></div>

    </div>

    
    
<div id="object-properties" class="section level2">
<h2 class="hasAnchor">
<a href="#object-properties" class="anchor"></a>3.1 - Object properties</h2>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left"><code>Video</code></th>
<th align="left"><code>Stream</code></th>
<th align="left"><code>Image</code></th>
<th align="left"><code>VideoWriter</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Testing for</strong></td>
<td align="left"><code><a href="../reference/isVideo.html">isVideo(x)</a></code></td>
<td align="left"><code><a href="../reference/isStream.html">isStream(x)</a></code></td>
<td align="left"><code><a href="../reference/isImage.html">isImage(x)</a></code></td>
<td align="left"><code><a href="../reference/isVideoWriter.html">isVideoWriter(x)</a></code></td>
</tr>
<tr class="even">
<td align="left"><strong>Dimensions</strong></td>
<td align="left"><code><a href="../reference/dim.Rcpp_Video.html">dim(x)</a></code></td>
<td align="left"><code><a href="../reference/dim.Rcpp_Stream.html">dim(x)</a></code></td>
<td align="left"><code><a href="../reference/dim.Rcpp_Image.html">dim(x)</a></code></td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"><strong>Number of rows</strong></td>
<td align="left"><code><a href="../reference/video_dimensions.html">nrow(x)</a></code></td>
<td align="left"><code><a href="../reference/stream_dimensions.html">nrow(x)</a></code></td>
<td align="left"><code><a href="../reference/nrow.Rcpp_Image.html">nrow(x)</a></code></td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"><strong>Number of columns</strong></td>
<td align="left"><code><a href="../reference/video_dimensions.html">ncol(x)</a></code></td>
<td align="left"><code><a href="../reference/stream_dimensions.html">ncol(x)</a></code></td>
<td align="left"><code><a href="../reference/nrow.Rcpp_Image.html">ncol(x)</a></code></td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"><strong>Number of channels</strong></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left"><code><a href="../reference/nrow.Rcpp_Image.html">nchan(x)</a></code></td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"><strong>Number of frames</strong></td>
<td align="left"><code><a href="../reference/video_dimensions.html">nframes(x)</a></code></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"><strong>Framerate</strong></td>
<td align="left"><code><a href="../reference/fps.Rcpp_Video.html">fps(x)</a></code></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"><strong>Codec</strong></td>
<td align="left"><code><a href="../reference/codec.Rcpp_Video.html">codec(x)</a></code></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"><strong>Bit depth</strong></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left"><code><a href="../reference/bitdepth.html">bitdepth(x)</a></code></td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"><strong>Color space</strong></td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left"><code><a href="../reference/colorspace.html">colorspace(x)</a></code></td>
<td align="left">-</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div id="displaying-images" class="section level2">
<h2 class="hasAnchor">
<a href="#displaying-images" class="anchor"></a>3.2 - Displaying images</h2>
<div id="method-compatible-with-base-r" class="section level3">
<h3 class="hasAnchor">
<a href="#method-compatible-with-base-r" class="anchor"></a>3.2.1 - Method compatible with base R</h3>
<p>There are two methods for displaying images. The first method (<code>plot</code>) offers full compatibility with base <code>R</code> plotting methods, which allows for drawing non-destructively over an image using <code><a href="https://rdrr.io/r/graphics/lines.html">graphics::lines()</a></code>, <code><a href="https://rdrr.io/r/graphics/points.html">graphics::points()</a></code>, etc. For instance:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Find the path to the bunny.png image provided with Rvision</span>
<span class="va">path_to_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"sample_img"</span>, <span class="st">"bunny.png"</span>, package <span class="op">=</span> <span class="st">"Rvision"</span><span class="op">)</span>

<span class="co"># Load the image in memory</span>
<span class="va">my_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/image.html">image</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="va">path_to_image</span><span class="op">)</span>

<span class="co"># Plot the image using the base R plotting device</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_image</span><span class="op">)</span>

<span class="co"># Draw lines over the plotted image</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">400</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">550</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">430</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">570</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<p>Note that this method is rather slow and therefore not suitable for applications requiring quick refresh rates between successive images (e.g. when playing a video).</p>
</div>
<div id="method-incompatible-with-base-r" class="section level3">
<h3 class="hasAnchor">
<a href="#method-incompatible-with-base-r" class="anchor"></a>3.2.2 - Method incompatible with base R</h3>
<p>The second method (<code>display</code>) uses <a href="http://opencv.org/"><code>OpenCV</code></a>’s capabilities to display images at high frame rates, making it suitable to play videos. For instance:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Find the path to the Balloon.mp4 video provided with Rvision</span>
<span class="va">path_to_video</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"sample_vid"</span>, <span class="st">"Balloon.mp4"</span>, package <span class="op">=</span> <span class="st">"Rvision"</span><span class="op">)</span>

<span class="co"># Open the video file stream</span>
<span class="va">my_video</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/video.html">video</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="va">path_to_video</span><span class="op">)</span>

<span class="co"># Create an empty display window with width and height half of that of the video </span>
<span class="co"># (note: the display can hide behind other windows, especially on Mac)</span>
<span class="fu"><a href="../reference/newDisplay.html">newDisplay</a></span><span class="op">(</span><span class="st">"My display"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">my_video</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">my_video</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span> 

<span class="co"># Display images (note: it creates the display window if it doesn't exist yet)</span>
<span class="co"># The 3rd argument ('delay') is the minimum time in ms during which the image </span>
<span class="co"># should be displayed before it can be replaced</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="../reference/display.html">display</a></span><span class="op">(</span><span class="fu"><a href="../reference/readNext.Rcpp_Stream.html">readNext</a></span><span class="op">(</span><span class="va">my_video</span><span class="op">)</span>, <span class="st">"My display"</span>, <span class="fl">25</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">my_video</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">my_video</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># Close the display window</span>
<span class="fu"><a href="../reference/destroyDisplay.html">destroyDisplay</a></span><span class="op">(</span><span class="st">"My display"</span><span class="op">)</span></code></pre></div>
<p>Note that the <code>display</code> method is incompatible with base <code>R</code> plotting methods. However, you can use the drawing functions provided with <code>Rvision</code> to draw over images - destructively this time - before displaying them.</p>
<hr>
</div>
</div>
<div id="accessing-parts-of-an-image" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-parts-of-an-image" class="anchor"></a>3.3 - Accessing parts of an image</h2>
<p>You can access the pixel values of an image in exactly the same way you would access the values of a <code><a href="https://rdrr.io/r/base/array.html">base::array</a></code>. Actually, <code>Rvision</code> converts the image to a <code><a href="https://rdrr.io/r/base/array.html">base::array</a></code> before returning the desired values. For instance:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_image</span><span class="op">[</span><span class="op">]</span>                  <span class="co"># Entire image</span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span>,<span class="op">]</span>             <span class="co"># Bottom-left pixel</span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span>,,<span class="op">]</span>               <span class="co"># Bottom row of pixels</span>
<span class="va">my_image</span><span class="op">[</span>, <span class="fl">1</span>,<span class="op">]</span>              <span class="co"># Leftmost column of pixels</span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span>         <span class="co"># All pixels between the 1st and 5th row and column</span>
<span class="va">my_image</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,<span class="op">]</span>  <span class="co"># Every other row and column of pixels</span></code></pre></div>
<p>The <code>pget</code> function can be used to quickly access the values of specific pixels by their x/y coordinates in the image. For instance:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Return the pixel values at x/y coordinates (110,190) and (200,100)</span>
<span class="fu"><a href="../reference/pget.html">pget</a></span><span class="op">(</span><span class="va">my_image</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">200</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">190</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>This function returns a matrix where each column corresponds to one of the desired pixels and each row to the value of the pixels in each of the channels of the image (e.g. Blue, Red, Green).</p>
<hr>
</div>
<div id="replacing-parts-of-an-image" class="section level2">
<h2 class="hasAnchor">
<a href="#replacing-parts-of-an-image" class="anchor"></a>3.4 - Replacing parts of an image</h2>
<p>Images are not exactly like traditional <code>R</code> matrices. In particular, color images are made of multiple layers (also called channels), each corresponding to a dimension in a color space (e.g., the BGRA color space is composed of 4 channels: Blue, Green, Red, and Alpha/Transparency). Therefore, when replacing a pixel in a color image, it is necessary to provide values for each of these channels at once. This does not apply to grayscale images which have a single channel only and therefore behave similarly to regular monolayer matrices in base <code>R</code>.</p>
<div id="grayscale-images" class="section level3">
<h3 class="hasAnchor">
<a href="#grayscale-images" class="anchor"></a>3.4.1 - Grayscale images</h3>
<p>The traditional <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> assignment operator can be used to replace parts of a grayscale image, like it would be used to replace any parts of a traditional <code><a href="https://rdrr.io/r/base/matrix.html">base::matrix</a></code>. For instance:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Make a grayscale copy of the my_image object created earlier</span>
<span class="va">my_gray_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/changeColorSpace.html">changeColorSpace</a></span><span class="op">(</span><span class="va">my_image</span>, <span class="st">"GRAY"</span><span class="op">)</span>

<span class="co"># Turn the bottom-left corner of the image black (0 in the grayscale space)</span>
<span class="va">my_gray_image</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">250</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>  
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_gray_image</span><span class="op">)</span></code></pre></div>
<p>Finally, the <code>pset</code> function can be used to quickly set the values of specific pixels by their x/y coordinates in the image. For instance:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Set a few pixels to white inside the black square added earlier</span>
<span class="fu"><a href="../reference/pset.html">pset</a></span><span class="op">(</span><span class="va">my_gray_image</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="st">"white"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_gray_image</span><span class="op">)</span></code></pre></div>
</div>
<div id="color-images" class="section level3">
<h3 class="hasAnchor">
<a href="#color-images" class="anchor"></a>3.4.1 - Color images</h3>
<p>The <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> assignment operator can also be used to replace parts of a color (i.e.  multi-channel) image. However, instead of taking in single values for each pixel to be replaced, it will take one value per pixel and per channel of the image. For instance:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Turn the bottom-left corner of the my_image object created earlier red. This </span>
<span class="co"># is a BGRA image, so it has 4 channels which new values need to be specified.</span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">250</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">255</span>, <span class="fl">255</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_image</span><span class="op">)</span></code></pre></div>
<p>Note that if values are not specified for each channel, then the provided values will be recycled. For instance:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Turn the bottom-left corner of the my_image object completely transparent. </span>
<span class="co"># Transparency will appear as white when the image is plotted. </span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">250</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_image</span><span class="op">)</span></code></pre></div>
<p>The utility function <code>col2bgr</code> provided by <code>Rvision</code> (not to be confused with <code><a href="https://rdrr.io/r/grDevices/col2rgb.html">grDevices::col2rgb</a></code> on which <code>col2bgr</code> is based) will conveniently convert any of the <code>R</code>-compatible color specifications to color codes compatible with <code>Rvision</code> images. For instance:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Turn the bottom-left corner of the my_image object blue. </span>
<span class="va">my_image</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">250</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/col2bgr.html">col2bgr</a></span><span class="op">(</span><span class="st">"blue"</span>, alpha <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_image</span><span class="op">)</span></code></pre></div>
<p>Finally, the <code>pset</code> function can be used to quickly set the values of specific pixels by their x/y coordinates in the image. For instance:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Set a few pixels to green inside the black square added earlier</span>
<span class="fu"><a href="../reference/pset.html">pset</a></span><span class="op">(</span><span class="va">my_image</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="st">"green"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">my_image</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://www.theswarmlab.com">Simon Garnier</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '3a2946bbe34c635ad2e2aae74a83374b',
    indexName: 'swarm-lab-rvision',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
