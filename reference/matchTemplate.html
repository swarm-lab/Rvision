<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='matchTemplate compares a template against overlapping
 image regions using the specified method. After the function finishes
 the comparison, the best matches can be found as global minimums (when
 methods "SQDIFF" or "SQDIFF_NORMED" are used) or maximums (when methods
 "CCORR", "CCORR_NORMED", "CCOEFF" or "CCOEF_NORMED" are used) using the
 minMaxLoc function.'><title>Template Matching — matchTemplate • Rvision</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Template Matching — matchTemplate"><meta property="og:description" content='matchTemplate compares a template against overlapping
 image regions using the specified method. After the function finishes
 the comparison, the best matches can be found as global minimums (when
 methods "SQDIFF" or "SQDIFF_NORMED" are used) or maximums (when methods
 "CCORR", "CCORR_NORMED", "CCOEFF" or "CCOEF_NORMED" are used) using the
 minMaxLoc function.'><meta property="og:image" content="https://swarm-lab.github.io/Rvision/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Rvision</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/z1_install.html">1 - Installing Rvision</a>
    <a class="dropdown-item" href="../articles/z2_io.html">2 - Input/output operations</a>
    <a class="dropdown-item" href="../articles/z3_basic.html">3 - Basic operations</a>
    <a class="dropdown-item" href="../articles/z4_inplace.html">4 - In-place, copy, and target operations</a>
    <a class="dropdown-item" href="../articles/z5_gpu.html">5 - GPU operations</a>
    <a class="dropdown-item" href="../articles/z6_queue.html">6 - Capture queues</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/swarm-lab/Rvision/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Template Matching</h1>
      <small class="dont-index">Source: <a href="https://github.com/swarm-lab/Rvision/blob/HEAD/R/comparisons.R" class="external-link"><code>R/comparisons.R</code></a></small>
      <div class="d-none name"><code>matchTemplate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>matchTemplate</code> compares a template against overlapping
 image regions using the specified <code>method</code>. After the function finishes
 the comparison, the best matches can be found as global minimums (when
 methods "SQDIFF" or "SQDIFF_NORMED" are used) or maximums (when methods
 "CCORR", "CCORR_NORMED", "CCOEFF" or "CCOEF_NORMED" are used) using the
 <code><a href="minMaxLoc.html">minMaxLoc</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">matchTemplate</span><span class="op">(</span><span class="va">image</span>, <span class="va">template</span>, <span class="va">method</span>, mask <span class="op">=</span> <span class="cn">NULL</span>, target <span class="op">=</span> <span class="st">"new"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>image</dt>
<dd><p>An <code><a href="Image-class.html">Image</a></code> object.</p></dd>


<dt>template</dt>
<dd><p>An <code><a href="Image-class.html">Image</a></code> object with  the same number of
channels and bit depth as <code>image</code>. <code>template</code> cannot be greater
than <code>image</code> in any dimension.</p></dd>


<dt>method</dt>
<dd><p>A string indicating the comparison method to use. It can be any
of the following (see <a href="https://bit.ly/2RjELvJ" class="external-link">https://bit.ly/2RjELvJ</a> for a full description of
each comparison method):</p><ul><li><p>"SQDIFF"</p></li>
<li><p>"SQDIFF_NORMED"</p></li>
<li><p>"CCORR"</p></li>
<li><p>"CCORR_NORMED"</p></li>
<li><p>"CCOEFF"</p></li>
<li><p>"CCOEFF_NORMED"</p></li>
</ul></dd>


<dt>mask</dt>
<dd><p>An <code><a href="Image-class.html">Image</a></code> object with the same dimensions as
<code>template</code> (default: NULL). It can have either one channel or the same
number of channels as <code>template</code>. It can be an 8U or 32F
<code><a href="Image-class.html">Image</a></code> object. If 8U, it is interpreted as a binary mask,
 meaning only elements where mask is nonzero are used and are kept unchanged
 independent of the actual mask value. If 32F, then the mask values are used
 as weights. <code>mask</code> is not supported when <code>method='CCOEFF_NORMED'</code>.</p></dd>


<dt>target</dt>
<dd><p>The location where the results should be stored. It can take 2
values:</p><ul><li><p>"new":a new <code><a href="Image-class.html">Image</a></code> object is created and the results
  are stored inside (the default).</p></li>
<li><p>An <code><a href="Image-class.html">Image</a></code> object:the results are stored in another
  existing <code><a href="Image-class.html">Image</a></code> object. This is fast but will replace the
  content of <code>target</code>. Note that <code>target</code> must be a single-channel,
  32F <code><a href="Image-class.html">Image</a></code> object with <code>(R-r+1)</code> rows and <code>(C-c+1)</code>
  columns, where <code>CxR</code> and <code>cxr</code> are the dimensions of <code>image</code>
  and <code>template</code>, respectively.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If <code>target="new"</code>, the function returns an <code><a href="Image-class.html">Image</a></code></p>


<p>object with <code>(R-r+1)</code> rows and <code>(C-c+1)</code> columns, where <code>CxR</code></p>


<p>and <code>cxr</code> are the dimensions of <code>image</code> and <code>template</code>,
 respectively. If <code>target</code> is an <code><a href="Image-class.html">Image</a></code> object, the
 function returns nothing and modifies that <code><a href="Image-class.html">Image</a></code> object in
 place.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="Image-class.html">Image</a></code>, <code><a href="minMaxLoc.html">minMaxLoc</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">balloon</span> <span class="op">&lt;-</span> <span class="fu"><a href="image.html">image</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sample_img/balloon1.png"</span>, package <span class="op">=</span> <span class="st">"Rvision"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="subImage.html">subImage</a></span><span class="op">(</span><span class="va">balloon</span>, <span class="fl">290</span>, <span class="fl">170</span>, <span class="fl">150</span>, <span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">match</span> <span class="op">&lt;-</span> <span class="fu">matchTemplate</span><span class="op">(</span><span class="va">balloon</span>, <span class="va">sub</span>, method <span class="op">=</span> <span class="st">"SQDIFF"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mm</span> <span class="op">&lt;-</span> <span class="fu"><a href="minMaxLoc.html">minMaxLoc</a></span><span class="op">(</span><span class="va">match</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.theswarmlab.com" class="external-link">Simon Garnier</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

